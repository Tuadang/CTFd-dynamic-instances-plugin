{% extends "challenge.html" %}

{% block description %}
<span class="challenge-desc">
  {{ challenge.description | safe }}
</span>
{% endblock %}

{% block input %}
<div class="challenge-view">

  <!-- REQUIRED: challenge id for CTFd + your JS -->
  <input
    type="hidden"
    id="challenge-id"
    class="challenge-id"
    value="{{ challenge.id }}"
  >

  <!-- REQUIRED: challenge input (can be hidden) -->
  <input
    type="text"
    id="challenge-input"
    class="challenge-input form-control d-none"
    name="submission"
    placeholder="Flag"
  >

  <!-- K8s controls -->
  <div class="mb-3">
    <button id="start-instance" class="btn btn-success btn-sm">
      Start instance
    </button>
    <button id="status-instance" class="btn btn-info btn-sm">
      Status
    </button>
    <button id="stop-instance" class="btn btn-danger btn-sm">
      Stop instance
    </button>
  </div>

  <pre
    id="instance-info"
    style="
      background:#111;
      color:#0f0;
      padding:10px;
      min-height:120px;
      max-height:300px;
      overflow:auto;
      font-size:12px;
    "
  ></pre>

</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script src="/plugins/dynamic_instances/static/js/k8s_view.js"></script>
{% endblock %}
